<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Order Confirmation</title>
    <!-- Add any additional styles or meta tags if needed -->
</head>

<body>
    <h1>Order Confirmation</h1>

    <div id="confirmationContainer">
        <!-- Display the saved order data here -->
    </div>

    <script>
        // Retrieve the saved orders array from localStorage
        var orders = JSON.parse(localStorage.getItem('orders')) || [];

        // Display all orders on the page
        if (orders.length > 0) {
            console.log('Orders:', orders);

            // Loop through each order
            orders.forEach((orderData, index) => {
                var orderContainer = document.createElement('div');
                orderContainer.classList.add('order-container');

                orderContainer.innerHTML = `
                    <p><strong>Order ${index + 1}:</strong></p>
                    <p><strong>Name:</strong> ${orderData.name}</p>
                    <p><strong>Room Number:</strong> ${orderData.roomNumber}</p>
                    <p><strong>Phone Number:</strong> ${orderData.phoneNumber}</p>
                    <p><strong>Selected Food Items:</strong></p>
                    <ul>
                        ${orderData.selectedFoodItems && Array.isArray(orderData.selectedFoodItems)
                            ? orderData.selectedFoodItems.map(item => `<li>${item.name} - Quantity: ${item.quantity}</li>`).join('')
                            : '<li>No selected food items</li>'
                        }
                    </ul>
                    <button onclick="deleteOrder(${index})">Done Order</button>
                `;

                document.getElementById("confirmationContainer").appendChild(orderContainer);
            });
        }

        function deleteOrder(index) {
            // Retrieve the saved orders array from localStorage
            var orders = JSON.parse(localStorage.getItem('orders')) || [];

            // Remove the order at the specified index
            orders.splice(index, 1);

            // Save the updated orders array back to localStorage
            localStorage.setItem('orders', JSON.stringify(orders));

            // Reload the page to reflect the changes
            location.reload();
        }
    </script>
</body>

</html>
